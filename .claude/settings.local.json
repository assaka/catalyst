{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(npm run dev:*)",
      "Bash(mkdir:*)",
      "Bash(touch:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(npm run build:*)",
      "Bash(vercel:*)",
      "Bash(curl:*)",
      "Bash(npm run lint)",
      "Bash(npm run lint:*)",
      "Bash(ls:*)",
      "WebFetch(domain:catalyst-backend-fzhu.onrender.com)",
      "Bash(node:*)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node debug-email-chars.js)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node debug-constraints.js)",
      "Bash(DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" psql $DATABASE_URL -f cleanup-duplicate-tables.sql)",
      "Bash(grep:*)",
      "Bash(for file in AttributeSet.js Coupon.js DeliverySettings.js OrderItem.js ShippingMethod.js Tax.js)",
      "Bash(do echo \"=== $file ===\")",
      "Bash(tail:*)",
      "Bash(done)",
      "Bash(mv:*)",
      "Bash(true)",
      "Bash(find:*)",
      "Bash(npm run migrate:*)",
      "Bash(cd backend)",
      "Bash(git revert:*)",
      "WebFetch(domain:catalyst-pearl.vercel.app)",
      "Bash(sed:*)",
      "Bash(git checkout:*)",
      "Bash(for:*)",
      "Bash(do echo \"Cleaning $file\")",
      "Bash(rm:*)",
      "Bash(npm run test:*)",
      "Bash(npm start)",
      "Bash(pkill:*)",
      "Bash(rg:*)",
      "Bash(npm run sync:tables:*)",
      "Bash(npm run db:query:*)",
      "Bash(npx sequelize-cli:*)",
      "Bash(taskkill:*)",
      "WebFetch(domain:localhost)",
      "Bash(do echo \"Updating $file...\")",
      "Bash(git deploy:*)",
      "Bash(npm run:*)",
      "WebFetch(domain:api.akeneo.com)",
      "Bash(timeout 5 npm start)",
      "Bash(timeout 5 npm start)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { sequelize } = require(''./src/database/connection'');\n(async () => {\n  try {\n    const [results] = await sequelize.query(''SELECT column_name, data_type FROM information_schema.columns WHERE table_name = \\''integration_configs\\'' ORDER BY ordinal_position;'');\n    console.log(''Current integration_configs table structure:'');\n    results.forEach(row => console.log(\\`- ${row.column_name}: ${row.data_type}\\`));\n  } catch (error) {\n    console.error(''Error:'', error.message);\n  } finally {\n    await sequelize.close();\n  }\n})();\")",
      "Bash(DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" psql $DATABASE_URL -c \"\\d integration_configs\")",
      "Bash(DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" psql $DATABASE_URL -f add-integration-columns.sql)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node migrate-integration-table.js)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node check-imported-categories.js)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { sequelize } = require(''./backend/src/database/connection.js'');\n(async () => {\n  try {\n    const [results] = await sequelize.query(''SELECT COUNT(*) as total, store_id FROM attributes GROUP BY store_id;'');\n    console.log(''Attributes count by store:'');\n    results.forEach(row => console.log(\\`Store ${row.store_id}: ${row.total} attributes\\`));\n    \n    const [sample] = await sequelize.query(''SELECT name, code, type, store_id FROM attributes LIMIT 15;'');\n    console.log(''\\nSample attributes:'');\n    sample.forEach(attr => console.log(\\`- ${attr.name} (${attr.code}) - ${attr.type} - Store: ${attr.store_id}\\`));\n  } catch (error) {\n    console.error(''Error:'', error.message);\n  } finally {\n    await sequelize.close();\n  }\n})();\")",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node check-attributes.js)",
      "Bash(DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" psql $DATABASE_URL -c \"SELECT COUNT(*) as total_attributes FROM attributes WHERE store_id = ''157d4590-49bf-4b0b-bd77-abe131909528'';\")",
      "Bash(git restore:*)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node run-akeneo-schedules-migration.js)",
      "Bash(DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" psql $DATABASE_URL -c \"\\d akeneo_schedules\")",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node verify-akeneo-schedules.js)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { sequelize } = require(''./backend/src/database/connection.js'');\n(async () => {\n  try {\n    const [results] = await sequelize.query(''SELECT id, name, parent_id, level FROM categories WHERE name ILIKE \\''%welhof%\\'' ORDER BY name;'');\n    console.log(''Current Welhof categories:'');\n    results.forEach(cat => console.log(\\`- ${cat.name} (ID: ${cat.id}) - Parent: ${cat.parent_id || ''null''} - Level: ${cat.level}\\`));\n  } catch (error) {\n    console.error(''Error:'', error.message);\n  } finally {\n    await sequelize.close();\n  }\n})();\")",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { sequelize } = require(''./backend/src/database/connection.js'');\n(async () => {\n  try {\n    const [results] = await sequelize.query(''SELECT id, name, parent_id, level FROM categories WHERE name ILIKE \\''%welhof%\\'' ORDER BY name;'');\n    console.log(''Current Welhof categories:'');\n    results.forEach(cat => console.log(\\`- ${cat.name} (ID: ${cat.id}) - Parent: ${cat.parent_id || \\''null\\''} - Level: ${cat.level}\\`));\n  } catch (error) {\n    console.error(''Error:'', error.message);\n  } finally {\n    await sequelize.close();\n  }\n})();\")",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node fix-welhof-categories.js)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node fix-welhof-categories.cjs)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node check-all-categories.cjs)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node clear-and-create-root-category.cjs)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node recreate-categories-table.cjs)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { sequelize } = require(''./backend/src/database/connection.js'');\n(async () => {\n  try {\n    console.log(''üîç Checking current localStorage contents...'');\n    // This won''t work in Node.js, let me check the backend auth middleware instead\n    \n    const [results] = await sequelize.query(''SELECT * FROM redirects ORDER BY created_at DESC LIMIT 10;'');\n    console.log(''üìã Recent redirects in database:'');\n    results.forEach(redirect => console.log(`- $redirect.old_url ‚Üí $redirect.new_url ($redirect.created_at)`));\n  } catch (error) {\n    console.error(''Error:'', error.message);\n  } finally {\n    await sequelize.close();\n  }\n})();\")",
      "Bash(DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" psql $DATABASE_URL -c \"SELECT * FROM redirects ORDER BY created_at DESC LIMIT 5;\")",
      "Bash(NODE_ENV=production node -e \"\nconst path = require(''path'');\nprocess.chdir(''./backend'');\nrequire(''dotenv'').config({ path: ''.env.local'' });\nconsole.log(''JWT_SECRET exists:'', Boolean(process.env.JWT_SECRET));\nconsole.log(''JWT_SECRET value:'', process.env.JWT_SECRET);\nconsole.log(''NODE_ENV:'', process.env.NODE_ENV);\n\")",
      "Bash(npm run:*)",
      "Bash(DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" psql $DATABASE_URL -c \"\\d redirects\")",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node check-redirects-table.js)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node check-redirects-table.cjs)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { sequelize } = require(''./src/database/connection.js'');\n(async () => {\n  try {\n    console.log(''üîç Checking redirects table structure...'');\n    const [results] = await sequelize.query(''SELECT column_name, data_type FROM information_schema.columns WHERE table_name = \\''redirects\\'' ORDER BY ordinal_position;'');\n    \n    if (results.length === 0) {\n      console.log(''‚ùå Redirects table does not exist!'');\n    } else {\n      console.log(''‚úÖ Redirects table columns:'');\n      results.forEach(col => console.log(''- '' + col.column_name + '': '' + col.data_type));\n    }\n    \n    await sequelize.close();\n  } catch (error) {\n    console.error(''‚ùå Error:'', error.message);\n  }\n})();\")",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { sequelize } = require(''./src/database/connection.js'');\n(async () => {\n  try {\n    console.log(''üîç Checking all redirects table columns...'');\n    const [results] = await sequelize.query(''SELECT column_name, data_type, is_nullable, column_default FROM information_schema.columns WHERE table_name = \\''redirects\\'' ORDER BY ordinal_position;'');\n    \n    console.log(''üìã Full redirects table structure:'');\n    results.forEach(col => {\n      console.log(''- '' + col.column_name + '': '' + col.data_type + '' '' + (col.is_nullable === ''NO'' ? ''NOT NULL'' : ''NULL'') + '' '' + (col.column_default || ''''));\n    });\n    \n    await sequelize.close();\n  } catch (error) {\n    console.error(''‚ùå Error:'', error.message);\n  }\n})();\")",
      "Bash(DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" psql $DATABASE_URL -f fix-redirects-table.sql)",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { sequelize } = require(''./src/database/connection.js'');\n(async () => {\n  try {\n    console.log(''üîß Adding missing columns to redirects table...'');\n    \n    await sequelize.query(\\`\n      ALTER TABLE redirects \n      ADD COLUMN IF NOT EXISTS entity_type VARCHAR(50),\n      ADD COLUMN IF NOT EXISTS entity_id UUID,\n      ADD COLUMN IF NOT EXISTS created_by UUID,\n      ADD COLUMN IF NOT EXISTS notes TEXT,\n      ADD COLUMN IF NOT EXISTS hit_count INTEGER DEFAULT 0,\n      ADD COLUMN IF NOT EXISTS last_used_at TIMESTAMP;\n    \\`);\n    \n    console.log(''‚úÖ Successfully added missing columns'');\n    \n    // Verify the new structure\n    const [results] = await sequelize.query(''SELECT column_name FROM information_schema.columns WHERE table_name = \\''redirects\\'' ORDER BY ordinal_position;'');\n    console.log(''üìã Updated table columns:'');\n    results.forEach(col => console.log(''- '' + col.column_name));\n    \n    await sequelize.close();\n  } catch (error) {\n    console.error(''‚ùå Error:'', error.message);\n  }\n})();\")",
      "Bash(NODE_ENV=production DATABASE_URL=\"postgresql://postgres.jqqfjfoigtwdpnlicjmh:Lgr5ovbpji64CooD@aws-0-eu-north-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { sequelize } = require(''./src/database/connection.js'');\n(async () => {\n  try {\n    console.log(''üîß Adding missing columns to redirects table...'');\n    \n    const sql = ''ALTER TABLE redirects ADD COLUMN IF NOT EXISTS entity_type VARCHAR(50), ADD COLUMN IF NOT EXISTS entity_id UUID, ADD COLUMN IF NOT EXISTS created_by UUID, ADD COLUMN IF NOT EXISTS notes TEXT, ADD COLUMN IF NOT EXISTS hit_count INTEGER DEFAULT 0, ADD COLUMN IF NOT EXISTS last_used_at TIMESTAMP;'';\n    \n    await sequelize.query(sql);\n    \n    console.log(''‚úÖ Successfully added missing columns'');\n    \n    // Verify the new structure\n    const [results] = await sequelize.query(''SELECT column_name FROM information_schema.columns WHERE table_name = \\''redirects\\'' ORDER BY ordinal_position;'');\n    console.log(''üìã Updated table columns:'');\n    results.forEach(col => console.log(''- '' + col.column_name));\n    \n    await sequelize.close();\n  } catch (error) {\n    console.error(''‚ùå Error:'', error.message);\n  }\n})();\")"
    ],
    "deny": []
  }
}