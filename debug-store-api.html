<!DOCTYPE html>
<html>
<head>
    <title>Debug Store API</title>
</head>
<body>
    <h1>Store API Debug</h1>
    <div id="results"></div>

    <script>
        async function debugStoreAPI() {
            const results = document.getElementById('results');
            results.innerHTML = '<p>Testing store API...</p>';

            try {
                // Test 1: Check if public stores endpoint works
                console.log('Testing /api/public/stores...');
                const response1 = await fetch('https://catalyst-backend-fzhu.onrender.com/api/public/stores');
                const data1 = await response1.json();
                
                results.innerHTML += `<h2>All Stores:</h2><pre>${JSON.stringify(data1, null, 2)}</pre>`;

                // Test 2: Check specific store by slug
                console.log('Testing /api/public/stores?slug=hamid2...');
                const response2 = await fetch('https://catalyst-backend-fzhu.onrender.com/api/public/stores?slug=hamid2');
                const data2 = await response2.json();
                
                results.innerHTML += `<h2>Hamid2 Store:</h2><pre>${JSON.stringify(data2, null, 2)}</pre>`;

                // Test 3: Check what stores exist
                if (Array.isArray(data1) && data1.length > 0) {
                    results.innerHTML += `<h2>Available Store Slugs:</h2>`;
                    data1.forEach(store => {
                        results.innerHTML += `<p>- ${store.slug} (${store.name})</p>`;
                    });
                } else {
                    results.innerHTML += `<h2>No stores found!</h2>`;
                }

            } catch (error) {
                results.innerHTML += `<h2>Error:</h2><pre>${error.message}</pre>`;
                console.error('Debug error:', error);
            }
        }

        // Run debug on page load
        debugStoreAPI();
    </script>
</body>
</html>